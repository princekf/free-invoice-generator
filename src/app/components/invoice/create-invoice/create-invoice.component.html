<div class="card-layout" style="display: flex; flex-wrap: wrap; gap: 24px;">
    <!-- My Details -->
    <div class="my-organization-card" style="flex: 1 1 48%;">
        <div class="title">
            <span class="card-title">My Organization</span>
        </div>
        <div>
            <ag-grid-angular class="ag-theme-alpine address-grid no-header" style="width: 100%;"
                [rowData]="myDetailsRowData" [columnDefs]="myDetailsColumnDefs" [domLayout]="'autoHeight'"
                [defaultColDef]="defaultColDef" [gridOptions]="gridOptions" (gridReady)="onMyDetailsGridReady($event)"
                [getRowId]="getRowId">
            </ag-grid-angular>
        </div>
    </div>

    <!-- Customer Details -->
    <div class="customer-card" style="flex: 1 1 48%;">
        <div class="title">
            <span class="card-title">Customer Details</span>
        </div>
        <div>
            <ag-grid-angular class="ag-theme-alpine address-grid no-header" style="width: 100%;"
                [rowData]="customerRowData" [columnDefs]="customerColumnDefs" [domLayout]="'autoHeight'"
                [defaultColDef]="defaultColDef" [gridOptions]="gridOptions" (gridReady)="onCustomerGridReady($event)"
                [getRowId]="getRowId">
            </ag-grid-angular>
        </div>
    </div>

    <!-- Invoice Details -->
    <div class="invoice-details-card" style="flex: 1 1 65%;">
        <div class="title">
            <span class="card-title">Invoice Details</span>
        </div>
        <div>
            <ag-grid-angular class="ag-theme-alpine no-header" style="width: 100%;"
                [columnDefs]="invoiceDetailsColumnDefs" [domLayout]="'autoHeight'" [defaultColDef]="defaultColDef"
                [gridOptions]="gridOptions" (gridReady)="onInvoiceDetailsGridReady($event)" [getRowId]="getRowId">
            </ag-grid-angular>
        </div>
    </div>

    <div>
        <div>
            <div class="media-upload" (dragover)="onSmallLogoDragOver($event)"
                (dragleave)="onSmallLogoDragLeave($event)" (drop)="onSmallLogoDrop($event)"
                (dragend)="onSmallLogoDragLeave($event)">
                <div [ngClass]="{ 'logo-drop-zone': true, 'drag-over': isSmallLogoDragOver }">
                    <!-- Close Button -->
                    <button *ngIf="smallLogoPreviewUrl" mat-icon-button (click)="clearSmallLogo()"
                        aria-label="Remove Small Logo" title="Remove Small Logo"
                        style="position: absolute; top: 5px; right: 5px; z-index: 1;">
                        <mat-icon>close</mat-icon>
                    </button>

                    <!-- Preview or Placeholder -->
                    <ng-container *ngIf="smallLogoPreviewUrl; else smallLogoUploadPrompt">
                        <img [src]="smallLogoPreviewUrl" alt="Small Logo Preview"
                            style="max-height: 100px; max-width: 100%; margin-bottom: 8px;" />
                    </ng-container>

                    <ng-template #smallLogoUploadPrompt>
                        <p style="margin-bottom: 8px;"></p>
                    </ng-template>

                    <!-- Upload Link -->
                    <button class="logo-upload-button" color="primary" (click)="smallLogoInput.click()">
                        Drag or Click to Upload Small Logo
                    </button>
                    <input #smallLogoInput type="file" hidden (change)="onSmallLogoSelected($event)" />
                </div>
            </div>

        </div>

        <div>
            <div class="media-upload" (dragover)="onLargeLogoDragOver($event)" (drop)="onLargeLogoDrop($event)"
                (dragleave)="onLargeLogoDragLeave($event)" (dragend)="onLargeLogoDragLeave($event)">


                <div [ngClass]="{ 'logo-drop-zone': true, 'drag-over': isLargeLogoDragOver }">
                    <!-- Close Button -->
                    <button *ngIf="largeLogoPreviewUrl" mat-icon-button (click)="clearLargeLogo()"
                        aria-label="Remove Large Logo" title="Remove Large Logo"
                        style="position: absolute; top: 5px; right: 5px; z-index: 1;">
                        <mat-icon>close</mat-icon>
                    </button>

                    <!-- Image or Placeholder -->
                    <ng-container *ngIf="largeLogoPreviewUrl; else largeLogoUploadPrompt">
                        <img [src]="largeLogoPreviewUrl" alt="Large Logo Preview"
                            style="max-height: 100px; max-width: 100%; margin-bottom: 8px;" />
                    </ng-container>

                    <!-- Placeholder Text -->
                    <ng-template #largeLogoUploadPrompt>
                        <p style="margin-bottom: 8px;"></p>
                    </ng-template>

                    <!-- Always Visible Select Button -->
                    <button class="logo-upload-button" color="primary" (click)="largeLogoInput.click()">
                        Drag or Click to Upload Small Logo
                    </button>
                    <input #largeLogoInput type="file" hidden (change)="onLargeLogoSelected($event)" />
                </div>

            </div>
        </div>
    </div>

    <!-- Item Deatils -->
    <div class="item-summary">
        <div class="Item-details-card" style="flex: 1 1 100%;">
            <div class="title">
                <span class="card-title">Item Details</span>
            </div>
            <ag-grid-angular [style.width]="itemsGridWidth" class="ag-theme-alpine" [columnDefs]="itemsColumnDefs"
                [domLayout]="'autoHeight'" [defaultColDef]="itemsDefaultColDef" [gridOptions]="gridOptions"
                (gridReady)="onItemsGridReady($event)">
            </ag-grid-angular>
        </div>

        <!-- Summary of Invoice-->
        <div class="summary-box">
            <div class="Summary-of-Invoice-card">
                <ag-grid-angular class="ag-theme-alpine address-grid no-header" style="width: 94%;"
                    [columnDefs]="summaryColumnDefs" [domLayout]="'autoHeight'" [defaultColDef]="defaultColDef"
                    [gridOptions]="gridOptions" (gridReady)="onSummaryGridReady($event)" [getRowId]="getRowId">
                </ag-grid-angular>
            </div>
        </div>
    </div>
</div>