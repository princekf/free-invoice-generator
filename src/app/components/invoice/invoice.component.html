<mat-horizontal-stepper [linear]="false" #stepper [selectedIndex]="stepIndex"
  (selectionChange)="stepIndex = $event.selectedIndex">

  <!-- Step 1 -->
 <mat-step label="My Organization Info & Logo">
  <ng-container *ngIf="stepIndex === 0">
    <div class="organization-layout">
      <div class="organization-main">
        <app-invoice-organization></app-invoice-organization>
      </div>
      <div class="organization-logo">
        <app-invoice-logo></app-invoice-logo>
      </div>
    </div>
  </ng-container>

  <div class="stepper-actions">
    <button mat-raised-button color="primary" class="next-btn" (click)="stepper.next()">
      Next <mat-icon>arrow_forward</mat-icon>
    </button>
  </div>
</mat-step>



  <!-- Step 2 -->
  <mat-step label="Customer and Invoice Details">
    <ng-container *ngIf="stepIndex === 1">
      <div class="card-container">
        <app-invoice-customer></app-invoice-customer>
        <app-invoice-details></app-invoice-details>
      </div>
    </ng-container>
    <div class="stepper-actions">
      <button mat-button class="back-btn" (click)="stepper.previous()"><mat-icon>arrow_back</mat-icon> Back</button>
      <button mat-raised-button color="primary" class="next-btn" (click)="stepper.next()">Next
        <mat-icon>arrow_forward</mat-icon></button>
    </div>
  </mat-step>

  <!-- Step 3 -->
  <mat-step label="Items and Summary">
    <ng-container *ngIf="stepIndex === 2">
      <div class="items-summary-layout">
        <div class="invoice-items-wrapper"><app-invoice-items></app-invoice-items></div>
        <div class="invoice-summary-wrapper"><app-invoice-summary></app-invoice-summary></div>
      </div>
    </ng-container>
    <div class="stepper-actions">
      <button mat-button class="back-btn" (click)="stepper.previous()"><mat-icon>arrow_back</mat-icon> Back</button>
      <button mat-raised-button color="primary" class="next-btn" (click)="stepper.next()">Next
        <mat-icon>arrow_forward</mat-icon></button>
    </div>
  </mat-step>

  <!-- Step 4 -->
  <mat-step label="Select a template">
    <ng-container *ngIf="stepIndex === 3">
       <app-select-template [stepper]="stepper"></app-select-template>
    </ng-container>
    <div class="stepper-actions">
      <button mat-button class="back-btn" (click)="stepper.previous()"><mat-icon>arrow_back</mat-icon> Back</button>
      <button mat-raised-button color="primary" class="next-btn" (click)="stepper.next()">Next
        <mat-icon>arrow_forward</mat-icon></button>
    </div>
  </mat-step>

  <!-- Step 5 -->
  <mat-step label="Preview and Download">
    <ng-container *ngIf="stepIndex === 4">
      <app-preview-invoice></app-preview-invoice>
    </ng-container>
    <div class="stepper-actions">
      <button mat-button class="back-btn" (click)="stepper.previous()"><mat-icon>arrow_back</mat-icon> Back</button>
      <button mat-raised-button color="accent" class="finish-btn"><mat-icon>check_circle</mat-icon> Finish</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>